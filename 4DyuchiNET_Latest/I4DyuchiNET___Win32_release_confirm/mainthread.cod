; Listing generated by Microsoft (R) Optimizing Compiler Version 18.00.30501.0 

	TITLE	E:\GitHub\Mso_Code\4DyuchiNET_Latest\mainthread.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?g_pOnInitialFunc@@3P6GKPAX@ZA			; g_pOnInitialFunc
PUBLIC	?g_hMainThreadEvent@@3PAPAXA			; g_hMainThreadEvent
PUBLIC	?g_hMainThread@@3PAXA				; g_hMainThread
PUBLIC	?g_dwMainThreadEventNum@@3KA			; g_dwMainThreadEventNum
PUBLIC	?g_hCheckBreakEvent@@3PAXA			; g_hCheckBreakEvent
PUBLIC	?pEventFunc@@3PAP6GXK@ZA			; pEventFunc
PUBLIC	?g_dwUserEventNum@@3KA				; g_dwUserEventNum
PUBLIC	?g_userEventDescList@@3PAUEVENT_DESC@@A		; g_userEventDescList
_BSS	SEGMENT
?g_pOnInitialFunc@@3P6GKPAX@ZA DD 01H DUP (?)		; g_pOnInitialFunc
?g_hMainThreadEvent@@3PAPAXA DD 040H DUP (?)		; g_hMainThreadEvent
?g_hMainThread@@3PAXA DD 01H DUP (?)			; g_hMainThread
?g_hCheckBreakEvent@@3PAXA DD 01H DUP (?)		; g_hCheckBreakEvent
?pEventFunc@@3PAP6GXK@ZA DD 03bH DUP (?)		; pEventFunc
?g_dwUserEventNum@@3KA DD 01H DUP (?)			; g_dwUserEventNum
	ALIGN	8

?g_userEventDescList@@3PAUEVENT_DESC@@A DQ 03bH DUP (?)	; g_userEventDescList
_BSS	ENDS
CONST	SEGMENT
$SG92235 DB	'Error', 00H
	ORG $+2
$SG92236 DB	'Fail to Create MainThread', 00H
	ORG $+2
$SG92264 DB	'Error', 00H
	ORG $+2
$SG92265 DB	'Fail WaitForMultipleObject', 00H
CONST	ENDS
_DATA	SEGMENT
?g_dwMainThreadEventNum@@3KA DD 05H			; g_dwMainThreadEventNum
_DATA	ENDS
PUBLIC	?StartMainThread@@YAHK@Z			; StartMainThread
PUBLIC	?EndMainThread@@YAXXZ				; EndMainThread
PUBLIC	?GetMainThreadMsgEvent@@YAPAXXZ			; GetMainThreadMsgEvent
PUBLIC	?GetMainThreadUserDefineEvent@@YAPAXK@Z		; GetMainThreadUserDefineEvent
PUBLIC	?SetMainThreadUserDefineEventFunc@@YAXKP6GXK@Z@Z ; SetMainThreadUserDefineEventFunc
PUBLIC	?SetMainThreadUserDefineEventNum@@YAXK@Z	; SetMainThreadUserDefineEventNum
PUBLIC	?BreakMainThread@@YAXXZ				; BreakMainThread
PUBLIC	?ResumeMainThread@@YAXXZ			; ResumeMainThread
PUBLIC	?ProcessPreConnectedItem@@YAXXZ			; ProcessPreConnectedItem
PUBLIC	?SetOnInitialFunc@@YAXP6GKPAX@Z@Z		; SetOnInitialFunc
PUBLIC	?ProcessMsgThread@@YGIPAX@Z			; ProcessMsgThread
EXTRN	__imp__CloseHandle@4:PROC
EXTRN	__imp__SetEvent@4:PROC
EXTRN	__imp__WaitForSingleObject@8:PROC
EXTRN	__imp__CreateEventA@16:PROC
EXTRN	__imp__WaitForMultipleObjects@16:PROC
EXTRN	__imp__GetActiveWindow@0:PROC
EXTRN	__imp__MessageBoxA@16:PROC
EXTRN	?GetMsgContainer@@YAPAUMSG_CONTAINER@@PAVCMsgQue@@@Z:PROC ; GetMsgContainer
EXTRN	?GetConnection@CNetwork@@QAEXPAPAVCConnection@@K@Z:PROC ; CNetwork::GetConnection
EXTRN	?CloseConnection@CNetwork@@QAEXK@Z:PROC		; CNetwork::CloseConnection
EXTRN	__beginthreadex:PROC
EXTRN	__endthreadex:PROC
EXTRN	?ProcessPreConnect@CPreConnectPool@@QAEHXZ:PROC	; CPreConnectPool::ProcessPreConnect
EXTRN	_memcpy:PROC
EXTRN	_memset:PROC
EXTRN	?g_pNetworkForUser@@3PAVCNetwork@@A:DWORD	; g_pNetworkForUser
EXTRN	?g_pNetworkForServer@@3PAVCNetwork@@A:DWORD	; g_pNetworkForServer
EXTRN	?g_pQueManager@@3PAVCQueManager@@A:DWORD	; g_pQueManager
EXTRN	?g_hProcessComplete@@3PAXA:DWORD		; g_hProcessComplete
EXTRN	?g_pPreConnectPool@@3PAVCPreConnectPool@@A:DWORD ; g_pPreConnectPool
; Function compile flags: /Odspy
_TEXT	SEGMENT
_this$ = -80						; size = 4
_dwConnectionIndex$ = -76				; size = 4
$T1 = -72						; size = 4
_this$ = -68						; size = 4
_dwConnectionIndex$ = -64				; size = 4
$T2 = -60						; size = 4
_this$ = -56						; size = 4
_dwConnectionIndex$ = -52				; size = 4
_this$ = -48						; size = 4
_dwConnectionIndex$ = -44				; size = 4
$T3 = -40						; size = 4
_hCurEvent$4 = -36					; size = 4
_dwNum$5 = -32						; size = 4
_i$6 = -28						; size = 4
_dwUserEventIndex$7 = -24				; size = 4
_i$8 = -20						; size = 4
_pQ$ = -16						; size = 4
_con$ = -12						; size = 4
_dwEventIndex$ = -8					; size = 4
_pmc$ = -4						; size = 4
_lpVoid$ = 8						; size = 4
?ProcessMsgThread@@YGIPAX@Z PROC			; ProcessMsgThread
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 173
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 50	 sub	 esp, 80			; 00000050H
; Line 176
  00006	83 65 f8 00	 and	 DWORD PTR _dwEventIndex$[ebp], 0
; Line 177
  0000a	83 65 f0 00	 and	 DWORD PTR _pQ$[ebp], 0
; Line 178
  0000e	83 65 fc 00	 and	 DWORD PTR _pmc$[ebp], 0
; Line 179
  00012	83 65 f4 00	 and	 DWORD PTR _con$[ebp], 0
; Line 182
  00016	83 3d 00 00 00
	00 00		 cmp	 DWORD PTR ?g_pOnInitialFunc@@3P6GKPAX@ZA, 0 ; g_pOnInitialFunc
  0001d	74 08		 je	 SHORT $LN29@ProcessMsg
; Line 183
  0001f	6a 00		 push	 0
  00021	ff 15 00 00 00
	00		 call	 DWORD PTR ?g_pOnInitialFunc@@3P6GKPAX@ZA ; g_pOnInitialFunc
$LN29@ProcessMsg:
; Line 185
  00027	33 c0		 xor	 eax, eax
  00029	40		 inc	 eax
  0002a	0f 84 4e 03 00
	00		 je	 $seg_destroy$90
; Line 193
  00030	6a ff		 push	 -1
  00032	6a 00		 push	 0
  00034	68 00 00 00 00	 push	 OFFSET ?g_hMainThreadEvent@@3PAPAXA ; g_hMainThreadEvent
  00039	ff 35 00 00 00
	00		 push	 DWORD PTR ?g_dwMainThreadEventNum@@3KA ; g_dwMainThreadEventNum
  0003f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WaitForMultipleObjects@16
  00045	89 45 f8	 mov	 DWORD PTR _dwEventIndex$[ebp], eax
  00048	83 7d f8 ff	 cmp	 DWORD PTR _dwEventIndex$[ebp], -1
  0004c	75 19		 jne	 SHORT $LN27@ProcessMsg
; Line 196
  0004e	6a 00		 push	 0
  00050	68 00 00 00 00	 push	 OFFSET $SG92264
  00055	68 00 00 00 00	 push	 OFFSET $SG92265
  0005a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__GetActiveWindow@0
  00060	50		 push	 eax
  00061	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MessageBoxA@16
$LN27@ProcessMsg:
; Line 199
  00067	83 7d f8 01	 cmp	 DWORD PTR _dwEventIndex$[ebp], 1
  0006b	75 0a		 jne	 SHORT $LN26@ProcessMsg
; Line 200
  0006d	e9 0c 03 00 00	 jmp	 $seg_destroy$90
  00072	e9 07 03 00 00	 jmp	 $seg_destroy$90
$LN26@ProcessMsg:
; Line 203
  00077	83 7d f8 02	 cmp	 DWORD PTR _dwEventIndex$[ebp], 2
  0007b	75 22		 jne	 SHORT $LN24@ProcessMsg
; Line 206
  0007d	ff 35 00 00 00
	00		 push	 DWORD PTR ?g_hCheckBreakEvent@@3PAXA ; g_hCheckBreakEvent
  00083	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetEvent@4
; Line 207
  00089	6a ff		 push	 -1
  0008b	6a 04		 push	 4
  0008d	58		 pop	 eax
  0008e	6b c0 03	 imul	 eax, eax, 3
  00091	ff b0 00 00 00
	00		 push	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[eax]
  00097	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WaitForSingleObject@8
; Line 208
  0009d	eb 88		 jmp	 SHORT $LN29@ProcessMsg
$LN24@ProcessMsg:
; Line 210
  0009f	83 7d f8 04	 cmp	 DWORD PTR _dwEventIndex$[ebp], 4
  000a3	75 10		 jne	 SHORT $LN23@ProcessMsg
; Line 212
  000a5	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_pPreConnectPool@@3PAVCPreConnectPool@@A ; g_pPreConnectPool
  000ab	e8 00 00 00 00	 call	 ?ProcessPreConnect@CPreConnectPool@@QAEHXZ ; CPreConnectPool::ProcessPreConnect
; Line 213
  000b0	e9 72 ff ff ff	 jmp	 $LN29@ProcessMsg
$LN23@ProcessMsg:
; Line 217
  000b5	83 7d f8 05	 cmp	 DWORD PTR _dwEventIndex$[ebp], 5
  000b9	0f 82 ab 00 00
	00		 jb	 $LN22@ProcessMsg
; Line 223
  000bf	83 4d e8 ff	 or	 DWORD PTR _dwUserEventIndex$7[ebp], -1
; Line 225
  000c3	83 65 ec 00	 and	 DWORD PTR _i$8[ebp], 0
  000c7	eb 07		 jmp	 SHORT $LN21@ProcessMsg
$LN20@ProcessMsg:
  000c9	8b 45 ec	 mov	 eax, DWORD PTR _i$8[ebp]
  000cc	40		 inc	 eax
  000cd	89 45 ec	 mov	 DWORD PTR _i$8[ebp], eax
$LN21@ProcessMsg:
  000d0	8b 45 ec	 mov	 eax, DWORD PTR _i$8[ebp]
  000d3	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_dwUserEventNum@@3KA ; g_dwUserEventNum
  000d9	0f 83 86 00 00
	00		 jae	 $LN19@ProcessMsg
; Line 228
  000df	8b 45 ec	 mov	 eax, DWORD PTR _i$8[ebp]
  000e2	8b 4d f8	 mov	 ecx, DWORD PTR _dwEventIndex$[ebp]
  000e5	8b 04 c5 04 00
	00 00		 mov	 eax, DWORD PTR ?g_userEventDescList@@3PAUEVENT_DESC@@A[eax*8+4]
  000ec	3b 04 8d 00 00
	00 00		 cmp	 eax, DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[ecx*4]
  000f3	75 6b		 jne	 SHORT $LN18@ProcessMsg
; Line 232
  000f5	8b 45 ec	 mov	 eax, DWORD PTR _i$8[ebp]
  000f8	8b 04 c5 00 00
	00 00		 mov	 eax, DWORD PTR ?g_userEventDescList@@3PAUEVENT_DESC@@A[eax*8]
  000ff	89 45 e8	 mov	 DWORD PTR _dwUserEventIndex$7[ebp], eax
; Line 234
  00102	ff 75 e8	 push	 DWORD PTR _dwUserEventIndex$7[ebp]
  00105	8b 45 e8	 mov	 eax, DWORD PTR _dwUserEventIndex$7[ebp]
  00108	ff 14 85 00 00
	00 00		 call	 DWORD PTR ?pEventFunc@@3PAP6GXK@ZA[eax*4]
; Line 238
  0010f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_dwMainThreadEventNum@@3KA ; g_dwMainThreadEventNum
  00114	2b 45 f8	 sub	 eax, DWORD PTR _dwEventIndex$[ebp]
  00117	48		 dec	 eax
  00118	89 45 e0	 mov	 DWORD PTR _dwNum$5[ebp], eax
; Line 240
  0011b	74 41		 je	 SHORT $LN17@ProcessMsg
; Line 243
  0011d	8b 45 f8	 mov	 eax, DWORD PTR _dwEventIndex$[ebp]
  00120	8b 04 85 00 00
	00 00		 mov	 eax, DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[eax*4]
  00127	89 45 dc	 mov	 DWORD PTR _hCurEvent$4[ebp], eax
; Line 244
  0012a	8b 45 e0	 mov	 eax, DWORD PTR _dwNum$5[ebp]
  0012d	c1 e0 02	 shl	 eax, 2
  00130	50		 push	 eax
  00131	8b 45 f8	 mov	 eax, DWORD PTR _dwEventIndex$[ebp]
  00134	8d 04 85 04 00
	00 00		 lea	 eax, DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[eax*4+4]
  0013b	50		 push	 eax
  0013c	8b 45 f8	 mov	 eax, DWORD PTR _dwEventIndex$[ebp]
  0013f	8d 04 85 00 00
	00 00		 lea	 eax, DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[eax*4]
  00146	50		 push	 eax
  00147	e8 00 00 00 00	 call	 _memcpy
  0014c	83 c4 0c	 add	 esp, 12			; 0000000cH
; Line 245
  0014f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_dwMainThreadEventNum@@3KA ; g_dwMainThreadEventNum
  00154	8b 4d dc	 mov	 ecx, DWORD PTR _hCurEvent$4[ebp]
  00157	89 0c 85 fc ff
	ff ff		 mov	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[eax*4-4], ecx
$LN17@ProcessMsg:
; Line 248
  0015e	eb 05		 jmp	 SHORT $LN19@ProcessMsg
$LN18@ProcessMsg:
; Line 251
  00160	e9 64 ff ff ff	 jmp	 $LN20@ProcessMsg
$LN19@ProcessMsg:
; Line 253
  00165	e9 bd fe ff ff	 jmp	 $LN29@ProcessMsg
$LN22@ProcessMsg:
; File e:\github\mso_code\4dyuchinet_latest\quemanager.h
; Line 20
  0016a	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_pQueManager@@3PAVCQueManager@@A ; g_pQueManager
  0016f	8b 40 04	 mov	 eax, DWORD PTR [eax+4]
  00172	89 45 f0	 mov	 DWORD PTR _pQ$[ebp], eax
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 260
  00175	83 65 e4 00	 and	 DWORD PTR _i$6[ebp], 0
  00179	eb 07		 jmp	 SHORT $LN16@ProcessMsg
$LN15@ProcessMsg:
  0017b	8b 45 e4	 mov	 eax, DWORD PTR _i$6[ebp]
  0017e	40		 inc	 eax
  0017f	89 45 e4	 mov	 DWORD PTR _i$6[ebp], eax
$LN16@ProcessMsg:
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 85
  00182	8b 45 f0	 mov	 eax, DWORD PTR _pQ$[ebp]
  00185	8b 00		 mov	 eax, DWORD PTR [eax]
  00187	89 45 d8	 mov	 DWORD PTR $T3[ebp], eax
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 260
  0018a	8b 45 e4	 mov	 eax, DWORD PTR _i$6[ebp]
  0018d	3b 45 d8	 cmp	 eax, DWORD PTR $T3[ebp]
  00190	0f 83 c3 01 00
	00		 jae	 $LN14@ProcessMsg
; Line 263
  00196	ff 75 f0	 push	 DWORD PTR _pQ$[ebp]
  00199	e8 00 00 00 00	 call	 ?GetMsgContainer@@YAPAUMSG_CONTAINER@@PAVCMsgQue@@@Z ; GetMsgContainer
  0019e	59		 pop	 ecx
  0019f	89 45 fc	 mov	 DWORD PTR _pmc$[ebp], eax
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 48
  001a2	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  001a5	8b 00		 mov	 eax, DWORD PTR [eax]
  001a7	25 00 00 00 70	 and	 eax, 1879048192		; 70000000H
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 264
  001ac	3d 00 00 00 20	 cmp	 eax, 536870912		; 20000000H
  001b1	0f 85 cc 00 00
	00		 jne	 $LN59@ProcessMsg
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 50
  001b7	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  001ba	8b 00		 mov	 eax, DWORD PTR [eax]
  001bc	25 00 00 00 80	 and	 eax, -2147483648	; 80000000H
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 267
  001c1	75 56		 jne	 SHORT $LN49@ProcessMsg
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 49
  001c3	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  001c6	8b 00		 mov	 eax, DWORD PTR [eax]
  001c8	25 ff ff ff 0f	 and	 eax, 268435455		; 0fffffffH
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 271
  001cd	50		 push	 eax
  001ce	8d 45 f4	 lea	 eax, DWORD PTR _con$[ebp]
  001d1	50		 push	 eax
  001d2	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_pNetworkForUser@@3PAVCNetwork@@A ; g_pNetworkForUser
  001d8	e8 00 00 00 00	 call	 ?GetConnection@CNetwork@@QAEXPAPAVCConnection@@K@Z ; CNetwork::GetConnection
; Line 272
  001dd	83 7d f4 00	 cmp	 DWORD PTR _con$[ebp], 0
  001e1	74 34		 je	 SHORT $LN11@ProcessMsg
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 49
  001e3	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  001e6	8b 00		 mov	 eax, DWORD PTR [eax]
  001e8	25 ff ff ff 0f	 and	 eax, 268435455		; 0fffffffH
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 274
  001ed	89 45 d4	 mov	 DWORD PTR _dwConnectionIndex$[ebp], eax
  001f0	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_pNetworkForUser@@3PAVCNetwork@@A ; g_pNetworkForUser
  001f5	89 45 d0	 mov	 DWORD PTR _this$[ebp], eax
; File e:\github\mso_code\4dyuchinet_latest\network.h
; Line 84
  001f8	ff 75 d4	 push	 DWORD PTR _dwConnectionIndex$[ebp]
  001fb	8b 45 d0	 mov	 eax, DWORD PTR _this$[ebp]
  001fe	ff 50 5c	 call	 DWORD PTR [eax+92]
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 49
  00201	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  00204	8b 00		 mov	 eax, DWORD PTR [eax]
  00206	25 ff ff ff 0f	 and	 eax, 268435455		; 0fffffffH
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 275
  0020b	50		 push	 eax
  0020c	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_pNetworkForUser@@3PAVCNetwork@@A ; g_pNetworkForUser
  00212	e8 00 00 00 00	 call	 ?CloseConnection@CNetwork@@QAEXK@Z ; CNetwork::CloseConnection
$LN11@ProcessMsg:
; Line 278
  00217	eb 65		 jmp	 SHORT $LN10@ProcessMsg
$LN49@ProcessMsg:
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 50
  00219	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  0021c	8b 00		 mov	 eax, DWORD PTR [eax]
  0021e	25 00 00 00 80	 and	 eax, -2147483648	; 80000000H
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 278
  00223	3d 00 00 00 80	 cmp	 eax, -2147483648	; 80000000H
  00228	75 54		 jne	 SHORT $LN10@ProcessMsg
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 49
  0022a	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  0022d	8b 00		 mov	 eax, DWORD PTR [eax]
  0022f	25 ff ff ff 0f	 and	 eax, 268435455		; 0fffffffH
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 282
  00234	50		 push	 eax
  00235	8d 45 f4	 lea	 eax, DWORD PTR _con$[ebp]
  00238	50		 push	 eax
  00239	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_pNetworkForServer@@3PAVCNetwork@@A ; g_pNetworkForServer
  0023f	e8 00 00 00 00	 call	 ?GetConnection@CNetwork@@QAEXPAPAVCConnection@@K@Z ; CNetwork::GetConnection
; Line 283
  00244	83 7d f4 00	 cmp	 DWORD PTR _con$[ebp], 0
  00248	74 34		 je	 SHORT $LN10@ProcessMsg
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 49
  0024a	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  0024d	8b 00		 mov	 eax, DWORD PTR [eax]
  0024f	25 ff ff ff 0f	 and	 eax, 268435455		; 0fffffffH
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 285
  00254	89 45 cc	 mov	 DWORD PTR _dwConnectionIndex$[ebp], eax
  00257	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_pNetworkForServer@@3PAVCNetwork@@A ; g_pNetworkForServer
  0025c	89 45 c8	 mov	 DWORD PTR _this$[ebp], eax
; File e:\github\mso_code\4dyuchinet_latest\network.h
; Line 84
  0025f	ff 75 cc	 push	 DWORD PTR _dwConnectionIndex$[ebp]
  00262	8b 45 c8	 mov	 eax, DWORD PTR _this$[ebp]
  00265	ff 50 5c	 call	 DWORD PTR [eax+92]
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 49
  00268	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  0026b	8b 00		 mov	 eax, DWORD PTR [eax]
  0026d	25 ff ff ff 0f	 and	 eax, 268435455		; 0fffffffH
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 286
  00272	50		 push	 eax
  00273	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_pNetworkForServer@@3PAVCNetwork@@A ; g_pNetworkForServer
  00279	e8 00 00 00 00	 call	 ?CloseConnection@CNetwork@@QAEXK@Z ; CNetwork::CloseConnection
$LN10@ProcessMsg:
; Line 290
  0027e	e9 d1 00 00 00	 jmp	 $LN7@ProcessMsg
$LN59@ProcessMsg:
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 48
  00283	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  00286	8b 00		 mov	 eax, DWORD PTR [eax]
  00288	25 00 00 00 70	 and	 eax, 1879048192		; 70000000H
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 290
  0028d	0f 85 c1 00 00
	00		 jne	 $LN7@ProcessMsg
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 50
  00293	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  00296	8b 00		 mov	 eax, DWORD PTR [eax]
  00298	25 00 00 00 80	 and	 eax, -2147483648	; 80000000H
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 293
  0029d	75 53		 jne	 SHORT $LN73@ProcessMsg
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 49
  0029f	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  002a2	8b 00		 mov	 eax, DWORD PTR [eax]
  002a4	25 ff ff ff 0f	 and	 eax, 268435455		; 0fffffffH
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 297
  002a9	50		 push	 eax
  002aa	8d 45 f4	 lea	 eax, DWORD PTR _con$[ebp]
  002ad	50		 push	 eax
  002ae	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_pNetworkForUser@@3PAVCNetwork@@A ; g_pNetworkForUser
  002b4	e8 00 00 00 00	 call	 ?GetConnection@CNetwork@@QAEXPAPAVCConnection@@K@Z ; CNetwork::GetConnection
; Line 298
  002b9	83 7d f4 00	 cmp	 DWORD PTR _con$[ebp], 0
  002bd	74 31		 je	 SHORT $LN4@ProcessMsg
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 41
  002bf	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  002c2	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  002c5	89 45 c4	 mov	 DWORD PTR $T2[ebp], eax
; Line 49
  002c8	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  002cb	8b 00		 mov	 eax, DWORD PTR [eax]
  002cd	25 ff ff ff 0f	 and	 eax, 268435455		; 0fffffffH
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 299
  002d2	89 45 c0	 mov	 DWORD PTR _dwConnectionIndex$[ebp], eax
  002d5	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_pNetworkForUser@@3PAVCNetwork@@A ; g_pNetworkForUser
  002da	89 45 bc	 mov	 DWORD PTR _this$[ebp], eax
; File e:\github\mso_code\4dyuchinet_latest\network.h
; Line 85
  002dd	ff 75 c4	 push	 DWORD PTR $T2[ebp]
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 42
  002e0	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  002e3	83 c0 10	 add	 eax, 16			; 00000010H
; File e:\github\mso_code\4dyuchinet_latest\network.h
; Line 85
  002e6	50		 push	 eax
  002e7	ff 75 c0	 push	 DWORD PTR _dwConnectionIndex$[ebp]
  002ea	8b 45 bc	 mov	 eax, DWORD PTR _this$[ebp]
  002ed	ff 50 60	 call	 DWORD PTR [eax+96]
$LN4@ProcessMsg:
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 301
  002f0	eb 62		 jmp	 SHORT $LN7@ProcessMsg
$LN73@ProcessMsg:
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 50
  002f2	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  002f5	8b 00		 mov	 eax, DWORD PTR [eax]
  002f7	25 00 00 00 80	 and	 eax, -2147483648	; 80000000H
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 301
  002fc	3d 00 00 00 80	 cmp	 eax, -2147483648	; 80000000H
  00301	75 51		 jne	 SHORT $LN7@ProcessMsg
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 49
  00303	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  00306	8b 00		 mov	 eax, DWORD PTR [eax]
  00308	25 ff ff ff 0f	 and	 eax, 268435455		; 0fffffffH
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 305
  0030d	50		 push	 eax
  0030e	8d 45 f4	 lea	 eax, DWORD PTR _con$[ebp]
  00311	50		 push	 eax
  00312	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?g_pNetworkForServer@@3PAVCNetwork@@A ; g_pNetworkForServer
  00318	e8 00 00 00 00	 call	 ?GetConnection@CNetwork@@QAEXPAPAVCConnection@@K@Z ; CNetwork::GetConnection
; Line 306
  0031d	83 7d f4 00	 cmp	 DWORD PTR _con$[ebp], 0
  00321	74 31		 je	 SHORT $LN7@ProcessMsg
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 41
  00323	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  00326	8b 40 08	 mov	 eax, DWORD PTR [eax+8]
  00329	89 45 b8	 mov	 DWORD PTR $T1[ebp], eax
; Line 49
  0032c	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  0032f	8b 00		 mov	 eax, DWORD PTR [eax]
  00331	25 ff ff ff 0f	 and	 eax, 268435455		; 0fffffffH
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 307
  00336	89 45 b4	 mov	 DWORD PTR _dwConnectionIndex$[ebp], eax
  00339	a1 00 00 00 00	 mov	 eax, DWORD PTR ?g_pNetworkForServer@@3PAVCNetwork@@A ; g_pNetworkForServer
  0033e	89 45 b0	 mov	 DWORD PTR _this$[ebp], eax
; File e:\github\mso_code\4dyuchinet_latest\network.h
; Line 85
  00341	ff 75 b8	 push	 DWORD PTR $T1[ebp]
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 42
  00344	8b 45 fc	 mov	 eax, DWORD PTR _pmc$[ebp]
  00347	83 c0 10	 add	 eax, 16			; 00000010H
; File e:\github\mso_code\4dyuchinet_latest\network.h
; Line 85
  0034a	50		 push	 eax
  0034b	ff 75 b4	 push	 DWORD PTR _dwConnectionIndex$[ebp]
  0034e	8b 45 b0	 mov	 eax, DWORD PTR _this$[ebp]
  00351	ff 50 60	 call	 DWORD PTR [eax+96]
$LN7@ProcessMsg:
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 310
  00354	e9 22 fe ff ff	 jmp	 $LN15@ProcessMsg
$LN14@ProcessMsg:
; File e:\github\mso_code\4dyuchinet_latest\que.h
; Line 96
  00359	8b 45 f0	 mov	 eax, DWORD PTR _pQ$[ebp]
  0035c	83 20 00	 and	 DWORD PTR [eax], 0
  0035f	8b 45 f0	 mov	 eax, DWORD PTR _pQ$[ebp]
  00362	83 60 0c 00	 and	 DWORD PTR [eax+12], 0
  00366	8b 45 f0	 mov	 eax, DWORD PTR _pQ$[ebp]
  00369	83 60 08 00	 and	 DWORD PTR [eax+8], 0
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 312
  0036d	ff 35 00 00 00
	00		 push	 DWORD PTR ?g_hProcessComplete@@3PAXA ; g_hProcessComplete
  00373	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetEvent@4
; Line 313
  00379	e9 a9 fc ff ff	 jmp	 $LN29@ProcessMsg
$seg_destroy$90:
; Line 315
  0037e	ff 35 00 00 00
	00		 push	 DWORD PTR ?g_hProcessComplete@@3PAXA ; g_hProcessComplete
  00384	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetEvent@4
; Line 316
  0038a	6a 00		 push	 0
  0038c	e8 00 00 00 00	 call	 __endthreadex
  00391	59		 pop	 ecx
; Line 317
  00392	33 c0		 xor	 eax, eax
; Line 318
  00394	8b e5		 mov	 esp, ebp
  00396	5d		 pop	 ebp
  00397	c2 04 00	 ret	 4
?ProcessMsgThread@@YGIPAX@Z ENDP			; ProcessMsgThread
_TEXT	ENDS
; Function compile flags: /Odspy
_TEXT	SEGMENT
_pFunc$ = 8						; size = 4
?SetOnInitialFunc@@YAXP6GKPAX@Z@Z PROC			; SetOnInitialFunc
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 43
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
; Line 44
  00003	8b 45 08	 mov	 eax, DWORD PTR _pFunc$[ebp]
  00006	a3 00 00 00 00	 mov	 DWORD PTR ?g_pOnInitialFunc@@3P6GKPAX@ZA, eax ; g_pOnInitialFunc
; Line 45
  0000b	5d		 pop	 ebp
  0000c	c3		 ret	 0
?SetOnInitialFunc@@YAXP6GKPAX@Z@Z ENDP			; SetOnInitialFunc
_TEXT	ENDS
; Function compile flags: /Odspy
_TEXT	SEGMENT
?ProcessPreConnectedItem@@YAXXZ PROC			; ProcessPreConnectedItem
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 95
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
; Line 96
  00003	6a 04		 push	 4
  00005	58		 pop	 eax
  00006	c1 e0 02	 shl	 eax, 2
  00009	ff b0 00 00 00
	00		 push	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[eax]
  0000f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetEvent@4
; Line 98
  00015	5d		 pop	 ebp
  00016	c3		 ret	 0
?ProcessPreConnectedItem@@YAXXZ ENDP			; ProcessPreConnectedItem
_TEXT	ENDS
; Function compile flags: /Odspy
_TEXT	SEGMENT
?ResumeMainThread@@YAXXZ PROC				; ResumeMainThread
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 65
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
; Line 66
  00003	6a 04		 push	 4
  00005	58		 pop	 eax
  00006	6b c0 03	 imul	 eax, eax, 3
  00009	ff b0 00 00 00
	00		 push	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[eax]
  0000f	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetEvent@4
; Line 67
  00015	5d		 pop	 ebp
  00016	c3		 ret	 0
?ResumeMainThread@@YAXXZ ENDP				; ResumeMainThread
_TEXT	ENDS
; Function compile flags: /Odspy
_TEXT	SEGMENT
?BreakMainThread@@YAXXZ PROC				; BreakMainThread
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 58
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
; Line 59
  00003	6a 04		 push	 4
  00005	58		 pop	 eax
  00006	d1 e0		 shl	 eax, 1
  00008	ff b0 00 00 00
	00		 push	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[eax]
  0000e	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetEvent@4
; Line 60
  00014	6a ff		 push	 -1
  00016	ff 35 00 00 00
	00		 push	 DWORD PTR ?g_hCheckBreakEvent@@3PAXA ; g_hCheckBreakEvent
  0001c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WaitForSingleObject@8
; Line 61
  00022	5d		 pop	 ebp
  00023	c3		 ret	 0
?BreakMainThread@@YAXXZ ENDP				; BreakMainThread
_TEXT	ENDS
; Function compile flags: /Odspy
_TEXT	SEGMENT
_i$1 = -4						; size = 4
_num$ = 8						; size = 4
?SetMainThreadUserDefineEventNum@@YAXK@Z PROC		; SetMainThreadUserDefineEventNum
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 128
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
; Line 131
  00004	8b 45 08	 mov	 eax, DWORD PTR _num$[ebp]
  00007	83 c0 05	 add	 eax, 5
  0000a	a3 00 00 00 00	 mov	 DWORD PTR ?g_dwMainThreadEventNum@@3KA, eax ; g_dwMainThreadEventNum
; Line 132
  0000f	68 ec 00 00 00	 push	 236			; 000000ecH
  00014	6a 00		 push	 0
  00016	68 00 00 00 00	 push	 OFFSET ?pEventFunc@@3PAP6GXK@ZA ; pEventFunc
  0001b	e8 00 00 00 00	 call	 _memset
  00020	83 c4 0c	 add	 esp, 12			; 0000000cH
; Line 134
  00023	68 d8 01 00 00	 push	 472			; 000001d8H
  00028	6a 00		 push	 0
  0002a	68 00 00 00 00	 push	 OFFSET ?g_userEventDescList@@3PAUEVENT_DESC@@A ; g_userEventDescList
  0002f	e8 00 00 00 00	 call	 _memset
  00034	83 c4 0c	 add	 esp, 12			; 0000000cH
; Line 136
  00037	8b 45 08	 mov	 eax, DWORD PTR _num$[ebp]
  0003a	a3 00 00 00 00	 mov	 DWORD PTR ?g_dwUserEventNum@@3KA, eax ; g_dwUserEventNum
; Line 138
  0003f	83 65 fc 00	 and	 DWORD PTR _i$1[ebp], 0
  00043	eb 07		 jmp	 SHORT $LN3@SetMainThr
$LN2@SetMainThr:
  00045	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  00048	40		 inc	 eax
  00049	89 45 fc	 mov	 DWORD PTR _i$1[ebp], eax
$LN3@SetMainThr:
  0004c	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  0004f	3b 45 08	 cmp	 eax, DWORD PTR _num$[ebp]
  00052	73 3b		 jae	 SHORT $LN4@SetMainThr
; Line 140
  00054	6a 00		 push	 0
  00056	6a 00		 push	 0
  00058	6a 00		 push	 0
  0005a	6a 00		 push	 0
  0005c	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateEventA@16
  00062	8b 4d fc	 mov	 ecx, DWORD PTR _i$1[ebp]
  00065	89 04 8d 14 00
	00 00		 mov	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[ecx*4+20], eax
; Line 143
  0006c	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  0006f	8b 4d fc	 mov	 ecx, DWORD PTR _i$1[ebp]
  00072	89 0c c5 00 00
	00 00		 mov	 DWORD PTR ?g_userEventDescList@@3PAUEVENT_DESC@@A[eax*8], ecx
; Line 144
  00079	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  0007c	8b 4d fc	 mov	 ecx, DWORD PTR _i$1[ebp]
  0007f	8b 0c 8d 14 00
	00 00		 mov	 ecx, DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[ecx*4+20]
  00086	89 0c c5 04 00
	00 00		 mov	 DWORD PTR ?g_userEventDescList@@3PAUEVENT_DESC@@A[eax*8+4], ecx
; Line 146
  0008d	eb b6		 jmp	 SHORT $LN2@SetMainThr
$LN4@SetMainThr:
; Line 148
  0008f	8b e5		 mov	 esp, ebp
  00091	5d		 pop	 ebp
  00092	c3		 ret	 0
?SetMainThreadUserDefineEventNum@@YAXK@Z ENDP		; SetMainThreadUserDefineEventNum
_TEXT	ENDS
; Function compile flags: /Odspy
_TEXT	SEGMENT
_index$ = 8						; size = 4
_pFunc$ = 12						; size = 4
?SetMainThreadUserDefineEventFunc@@YAXKP6GXK@Z@Z PROC	; SetMainThreadUserDefineEventFunc
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 51
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
; Line 52
  00003	8b 45 08	 mov	 eax, DWORD PTR _index$[ebp]
  00006	8b 4d 0c	 mov	 ecx, DWORD PTR _pFunc$[ebp]
  00009	89 0c 85 00 00
	00 00		 mov	 DWORD PTR ?pEventFunc@@3PAP6GXK@ZA[eax*4], ecx
; Line 53
  00010	5d		 pop	 ebp
  00011	c3		 ret	 0
?SetMainThreadUserDefineEventFunc@@YAXKP6GXK@Z@Z ENDP	; SetMainThreadUserDefineEventFunc
_TEXT	ENDS
; Function compile flags: /Odspy
_TEXT	SEGMENT
_hEvent$ = -8						; size = 4
_i$1 = -4						; size = 4
_index$ = 8						; size = 4
?GetMainThreadUserDefineEvent@@YAPAXK@Z PROC		; GetMainThreadUserDefineEvent
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 77
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
  00004	51		 push	 ecx
; Line 81
  00005	83 65 f8 00	 and	 DWORD PTR _hEvent$[ebp], 0
; Line 83
  00009	83 65 fc 00	 and	 DWORD PTR _i$1[ebp], 0
  0000d	eb 07		 jmp	 SHORT $LN4@GetMainThr
$LN3@GetMainThr:
  0000f	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  00012	40		 inc	 eax
  00013	89 45 fc	 mov	 DWORD PTR _i$1[ebp], eax
$LN4@GetMainThr:
  00016	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  00019	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_dwUserEventNum@@3KA ; g_dwUserEventNum
  0001f	73 20		 jae	 SHORT $LN2@GetMainThr
; Line 86
  00021	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  00024	8b 04 c5 00 00
	00 00		 mov	 eax, DWORD PTR ?g_userEventDescList@@3PAUEVENT_DESC@@A[eax*8]
  0002b	3b 45 08	 cmp	 eax, DWORD PTR _index$[ebp]
  0002e	75 0f		 jne	 SHORT $LN1@GetMainThr
; Line 88
  00030	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  00033	8b 04 c5 04 00
	00 00		 mov	 eax, DWORD PTR ?g_userEventDescList@@3PAUEVENT_DESC@@A[eax*8+4]
  0003a	89 45 f8	 mov	 DWORD PTR _hEvent$[ebp], eax
; Line 89
  0003d	eb 02		 jmp	 SHORT $LN2@GetMainThr
$LN1@GetMainThr:
; Line 91
  0003f	eb ce		 jmp	 SHORT $LN3@GetMainThr
$LN2@GetMainThr:
; Line 92
  00041	8b 45 f8	 mov	 eax, DWORD PTR _hEvent$[ebp]
; Line 93
  00044	8b e5		 mov	 esp, ebp
  00046	5d		 pop	 ebp
  00047	c3		 ret	 0
?GetMainThreadUserDefineEvent@@YAPAXK@Z ENDP		; GetMainThreadUserDefineEvent
_TEXT	ENDS
; Function compile flags: /Odspy
_TEXT	SEGMENT
?GetMainThreadMsgEvent@@YAPAXXZ PROC			; GetMainThreadMsgEvent
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 70
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
; Line 71
  00003	6a 04		 push	 4
  00005	58		 pop	 eax
  00006	6b c0 00	 imul	 eax, eax, 0
  00009	8b 80 00 00 00
	00		 mov	 eax, DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[eax]
; Line 72
  0000f	5d		 pop	 ebp
  00010	c3		 ret	 0
?GetMainThreadMsgEvent@@YAPAXXZ ENDP			; GetMainThreadMsgEvent
_TEXT	ENDS
; Function compile flags: /Odspy
_TEXT	SEGMENT
_i$1 = -4						; size = 4
?EndMainThread@@YAXXZ PROC				; EndMainThread
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 152
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
; Line 153
  00004	e8 00 00 00 00	 call	 ?ResumeMainThread@@YAXXZ ; ResumeMainThread
; Line 156
  00009	6a 04		 push	 4
  0000b	58		 pop	 eax
  0000c	c1 e0 00	 shl	 eax, 0
  0000f	ff b0 00 00 00
	00		 push	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[eax]
  00015	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__SetEvent@4
; Line 157
  0001b	6a ff		 push	 -1
  0001d	ff 35 00 00 00
	00		 push	 DWORD PTR ?g_hMainThread@@3PAXA ; g_hMainThread
  00023	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__WaitForSingleObject@8
; Line 160
  00029	83 65 fc 00	 and	 DWORD PTR _i$1[ebp], 0
  0002d	eb 07		 jmp	 SHORT $LN3@EndMainThr
$LN2@EndMainThr:
  0002f	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  00032	40		 inc	 eax
  00033	89 45 fc	 mov	 DWORD PTR _i$1[ebp], eax
$LN3@EndMainThr:
  00036	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  00039	3b 05 00 00 00
	00		 cmp	 eax, DWORD PTR ?g_dwMainThreadEventNum@@3KA ; g_dwMainThreadEventNum
  0003f	73 12		 jae	 SHORT $LN1@EndMainThr
; Line 162
  00041	8b 45 fc	 mov	 eax, DWORD PTR _i$1[ebp]
  00044	ff 34 85 00 00
	00 00		 push	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[eax*4]
  0004b	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
; Line 163
  00051	eb dc		 jmp	 SHORT $LN2@EndMainThr
$LN1@EndMainThr:
; Line 164
  00053	ff 35 00 00 00
	00		 push	 DWORD PTR ?g_hMainThread@@3PAXA ; g_hMainThread
  00059	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
; Line 165
  0005f	ff 35 00 00 00
	00		 push	 DWORD PTR ?g_hCheckBreakEvent@@3PAXA ; g_hCheckBreakEvent
  00065	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CloseHandle@4
; Line 166
  0006b	8b e5		 mov	 esp, ebp
  0006d	5d		 pop	 ebp
  0006e	c3		 ret	 0
?EndMainThread@@YAXXZ ENDP				; EndMainThread
_TEXT	ENDS
; Function compile flags: /Odspy
_TEXT	SEGMENT
_ThreadID$ = -4						; size = 4
_dwFlag$ = 8						; size = 4
?StartMainThread@@YAHK@Z PROC				; StartMainThread
; File e:\github\mso_code\4dyuchinet_latest\mainthread.cpp
; Line 102
  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	51		 push	 ecx
; Line 103
  00004	83 65 fc 00	 and	 DWORD PTR _ThreadID$[ebp], 0
; Line 106
  00008	6a 00		 push	 0
  0000a	6a 00		 push	 0
  0000c	6a 00		 push	 0
  0000e	6a 00		 push	 0
  00010	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateEventA@16
  00016	6a 04		 push	 4
  00018	59		 pop	 ecx
  00019	6b c9 00	 imul	 ecx, ecx, 0
  0001c	89 81 00 00 00
	00		 mov	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[ecx], eax
; Line 107
  00022	6a 00		 push	 0
  00024	6a 00		 push	 0
  00026	6a 00		 push	 0
  00028	6a 00		 push	 0
  0002a	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateEventA@16
  00030	6a 04		 push	 4
  00032	59		 pop	 ecx
  00033	c1 e1 00	 shl	 ecx, 0
  00036	89 81 00 00 00
	00		 mov	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[ecx], eax
; Line 108
  0003c	6a 00		 push	 0
  0003e	6a 00		 push	 0
  00040	6a 00		 push	 0
  00042	6a 00		 push	 0
  00044	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateEventA@16
  0004a	6a 04		 push	 4
  0004c	59		 pop	 ecx
  0004d	d1 e1		 shl	 ecx, 1
  0004f	89 81 00 00 00
	00		 mov	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[ecx], eax
; Line 109
  00055	6a 00		 push	 0
  00057	6a 00		 push	 0
  00059	6a 00		 push	 0
  0005b	6a 00		 push	 0
  0005d	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateEventA@16
  00063	6a 04		 push	 4
  00065	59		 pop	 ecx
  00066	6b c9 03	 imul	 ecx, ecx, 3
  00069	89 81 00 00 00
	00		 mov	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[ecx], eax
; Line 110
  0006f	6a 00		 push	 0
  00071	6a 00		 push	 0
  00073	6a 00		 push	 0
  00075	6a 00		 push	 0
  00077	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateEventA@16
  0007d	6a 04		 push	 4
  0007f	59		 pop	 ecx
  00080	c1 e1 02	 shl	 ecx, 2
  00083	89 81 00 00 00
	00		 mov	 DWORD PTR ?g_hMainThreadEvent@@3PAPAXA[ecx], eax
; Line 111
  00089	6a 00		 push	 0
  0008b	6a 00		 push	 0
  0008d	6a 00		 push	 0
  0008f	6a 00		 push	 0
  00091	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__CreateEventA@16
  00097	a3 00 00 00 00	 mov	 DWORD PTR ?g_hCheckBreakEvent@@3PAXA, eax ; g_hCheckBreakEvent
; Line 114
  0009c	8d 45 fc	 lea	 eax, DWORD PTR _ThreadID$[ebp]
  0009f	50		 push	 eax
  000a0	6a 00		 push	 0
  000a2	6a 00		 push	 0
  000a4	68 00 00 00 00	 push	 OFFSET ?ProcessMsgThread@@YGIPAX@Z ; ProcessMsgThread
  000a9	6a 00		 push	 0
  000ab	6a 00		 push	 0
  000ad	e8 00 00 00 00	 call	 __beginthreadex
  000b2	83 c4 18	 add	 esp, 24			; 00000018H
  000b5	a3 00 00 00 00	 mov	 DWORD PTR ?g_hMainThread@@3PAXA, eax ; g_hMainThread
; Line 117
  000ba	83 3d 00 00 00
	00 ff		 cmp	 DWORD PTR ?g_hMainThread@@3PAXA, -1 ; g_hMainThread
  000c1	75 18		 jne	 SHORT $LN1@StartMainT
; Line 119
  000c3	6a 00		 push	 0
  000c5	68 00 00 00 00	 push	 OFFSET $SG92235
  000ca	68 00 00 00 00	 push	 OFFSET $SG92236
  000cf	6a 00		 push	 0
  000d1	ff 15 00 00 00
	00		 call	 DWORD PTR __imp__MessageBoxA@16
; Line 120
  000d7	33 c0		 xor	 eax, eax
  000d9	eb 02		 jmp	 SHORT $LN2@StartMainT
$LN1@StartMainT:
; Line 123
  000db	33 c0		 xor	 eax, eax
$LN2@StartMainT:
; Line 125
  000dd	8b e5		 mov	 esp, ebp
  000df	5d		 pop	 ebp
  000e0	c3		 ret	 0
?StartMainThread@@YAHK@Z ENDP				; StartMainThread
_TEXT	ENDS
END
